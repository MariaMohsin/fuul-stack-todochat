# Default values for todo-chatbot-backend
replicaCount: 1

image:
  repository: todo-chatbot-backend
  pullPolicy: Never  # Use local images (Minikube)
  tag: "latest"

service:
  type: ClusterIP  # Internal service (frontend connects to it)
  port: 8000
  targetPort: 8000

env:
  - name: DATABASE_URL
    value: "postgresql://neondb_owner:npg_VxM7hFWf4Lka@ep-ancient-block-ahh0jisw-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require"
  - name: OLLAMA_HOST
    value: "http://host.minikube.internal:11434"  # Access host Ollama from Minikube
  - name: JWT_SECRET_KEY
    value: "your-secret-key-change-in-production"
  - name: JWT_ALGORITHM
    value: "HS256"
  - name: ACCESS_TOKEN_EXPIRE_MINUTES
    value: "30"

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

livenessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 10
  periodSeconds: 5
